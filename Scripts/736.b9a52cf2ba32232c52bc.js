"use strict";(self.webpackJsonpRuntime=self.webpackJsonpRuntime||[]).push([[736],{4736:(e,t,n)=>{n.r(t),n.d(t,{closeMegaMenus:()=>q,handleBodyScrollWithMegaMenu:()=>I,openMegaMenu:()=>T,registerMegaMenu:()=>b});var o=n(7174),a=n(3848);function c({megaMenuSections:e,selectedSection:t=null,megaMenuNavItems:n,selectedLink:o=null}){window.rtFlags["flex.megaMenu.a11y"]&&(function({megaMenuSections:e,selectedSection:t}){e.forEach((e=>{e.setAttribute("role","menu"),e.setAttribute("aria-hidden","true"),(0,a.OK)()?e.removeAttribute("inert"):e.setAttribute("inert","")})),t&&(t.setAttribute("aria-hidden","false"),t.removeAttribute("inert"))}({megaMenuSections:e,selectedSection:t}),function({megaMenuNavItems:e,selectedLink:t}){e.forEach((e=>{e.setAttribute("aria-selected","false")})),t&&t.setAttribute("aria-selected","true")}({megaMenuNavItems:n,selectedLink:o}))}var i=n(5976);const s="open",r="--flex-header-height",l=`${i.pM} [data-flex-id]`,u=`${i.pM} [data-flex-id].${s}`,d=`${u} [data-widget-type="youtube"]`,m=`${d} iframe`,g=`${d} video`,{addActionToAbort:f,cleanActions:v}=function(){const e=new Set;return{addActionToAbort:t=>{const n=new AbortController,{signal:o}=n;t(o),e.add(n)},cleanActions:()=>{e.forEach((e=>{e.abort()})),e.clear()}}}();function y(e){e.scrollTop=0}let h;function S(){const e=document.getElementById(i.a$);if(e?.getAttribute("data-changeable-on-scroll")){h&&h.abort(),h=new AbortController;const t=()=>{const t=document.querySelector(i.pM),n=e.offsetHeight;t.style.setProperty(r,`${n}px`)};e.addEventListener("transitionend",t,{signal:h.signal})}else h&&h.abort()}function M(){const e=document.querySelectorAll(`${m}, ${g}`);e.length&&e.forEach((e=>{if(e.src){const t=e.src;e.src=t}}))}function b(){const e=document.querySelectorAll(o.m),t=document.querySelector(i.pM),n=document.querySelectorAll(l);v(),c({megaMenuSections:n,selectedSection:null,megaMenuNavItems:e,selectedLink:null});const{open:s,close:r}=function({megaMenuContainer:e,megaMenuSections:t,megaMenuNavItems:n}){let o=null;return{open:({targetSection:a,navItem:i})=>{clearTimeout(o),p(),S(),L(e),A(a),y(e),k(),c({megaMenuSections:t,selectedSection:a,megaMenuNavItems:n,selectedLink:i})},close:({navItem:a,targetSection:i,closeWhenHovered:s=!1})=>{o=setTimeout((()=>{(s||!(a.matches(":hover")||i.matches(":hover")||e.matches(":hover")||a.classList.contains("dmNavItemSelected")))&&(M(),w(e),E(i),$(),c({megaMenuSections:t,selectedSection:null,megaMenuNavItems:n,selectedLink:null}))}),500)}}}({megaMenuContainer:t,megaMenuSections:n,megaMenuNavItems:e});e.forEach((o=>{const l=o.getAttribute("data-target-page-alias").split(":")[1],u=document.querySelector(`[data-flex-id="${l}"]`);u&&(function({navItem:e,targetSection:t}){window.rtFlags["flex.megaMenu.a11y"]&&!(0,a.OK)()&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),t.id&&e.setAttribute("aria-controls",t.id))}({navItem:o,targetSection:u}),function({navItem:e,targetSection:t,addActionToAbort:n,open:o,close:c}){const s=window.rtFlags["flex.megaMenu.a11y"]||!1;if((0,a.OK)()||!s)return;const r=t.querySelectorAll(i.DH.join(",")),l=r[0],u=r[r.length-1],d=()=>o({targetSection:t,navItem:e}),m=()=>c({targetSection:t,navItem:e,closeWhenHovered:!0});let g=null;function f(t){t.preventDefault(),m(),e.focus()}n((t=>{e.addEventListener("click",d,{signal:t})})),n((n=>{e.addEventListener("blur",(()=>{requestAnimationFrame((()=>{t.contains(document.activeElement)||m()}))}),{signal:n})})),n((t=>{e.addEventListener("keydown",(e=>{if("Enter"===e.key&&(g=e.currentTarget),g===e.currentTarget&&"Tab"===e.key)return l instanceof HTMLElement&&(e.preventDefault(),l.focus()),void(g=null);"Escape"===e.key&&e.currentTarget===document.activeElement&&m()}),{signal:t})})),n((n=>{t.addEventListener("keydown",(t=>{"Escape"===t.key&&(m(),e.focus())}),{signal:n})})),u&&u.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&("Tab"!==e.key||e.shiftKey||f(e))})),l&&l.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&"Tab"===e.key&&e.shiftKey&&f(e)}))}({navItem:o,targetSection:u,open:s,close:r,addActionToAbort:f}),f((e=>{o.addEventListener("mouseenter",(()=>s({targetSection:u,navItem:o})),{signal:e})})),f((e=>{o.addEventListener("mouseleave",(()=>{r({navItem:o,targetSection:u})}),{signal:e})})),f((o=>{u.addEventListener("mouseleave",(()=>{u.classList.contains("active")||u.matches(":focus-within")||(M(),w(t),E(u),$(),c({megaMenuSections:n,selectedSection:null,megaMenuNavItems:e,selectedLink:null}))}),{signal:o})})))}))}function p(){const e=document.querySelector(i.pM);document.querySelectorAll(u).forEach((e=>{E(e)})),w(e),$()}function A(e){e.classList.add(s),window.dispatchEvent(new Event("resize"))}function E(e){e.classList.remove(s)}function L(e){if(!e)return;const t=`${document.getElementById(i.a$).offsetHeight}px`;e.style.setProperty(r,t),e.classList.add(s)}function w(e){e&&(e.style.removeProperty(r),e.classList.remove(s))}function I(){k()}function k(){(function(){const e=document.querySelector(i.pM),t=e.clientHeight;return e.scrollHeight>t})()&&(document.body.style.height="100vh",document.body.style.overflow="hidden")}function $(){document.body.style.height="",document.body.style.overflow=""}function T(e){const t=document.querySelector(i.pM),n=document.querySelector(`[data-flex-id="${e}"]`);n.closest(i.pM)?n.matches(`.${s}`)||(p(),S(),L(t),A(n),y(t),k()):p()}function q(){p()}}}]);